<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content ="width=device-width, initial-scale=1">
      <!--<link rel="stylesheet" href="mystyle.css">-->
    <title>Scoreboard.html</title>
  </head>
  <body>
    <p>
      <a href="collegepickemhomepage.html">College Pickem</a>
    </p>
    <h4 id="game1"></h4>
    <script>
        function Get(yourUrl){
            var Httpreq = new XMLHttpRequest();
            Httpreq.open("GET",yourUrl,false);
            Httpreq.send(null);
            return Httpreq.responseText;
        }
        let espnUrl = "https://site.api.espn.com/apis/site/v2/sports/football/college-football/scoreboard?dates=20240921";
        var scoreboard = JSON.parse(Get(espnUrl));
        let florida = scoreboard['events'][2]['competitions'][0]['competitors'][1]['team']['abbreviation'];
        let floridaScore = scoreboard['events'][2]['competitions'][0]['competitors'][1]['score'];
        let missSt = scoreboard['events'][2]['competitions'][0]['competitors'][0]['team']['abbreviation'];
        let missStScore = scoreboard['events'][2]['competitions'][0]['competitors'][0]['score'];

        let game_ids = [2,19,22,24,28,31,41,47];
        let scores = ""
        for (let i = 0; i < game_ids.length; i++){
            game_id = game_ids[i]
            let team1 = scoreboard['events'][game_id]['competitions'][0]['competitors'][1]['team']['abbreviation'];
            let team1Score = scoreboard['events'][game_id]['competitions'][0]['competitors'][1]['score'];
            let team2 = scoreboard['events'][game_id]['competitions'][0]['competitors'][0]['team']['abbreviation'];
            let team2Score = scoreboard['events'][game_id]['competitions'][0]['competitors'][0]['score'];
            let timeReamining = scoreboard.events[game_id].status.type.detail
            scores += `${team1} ${team1Score} @ ${team2} ${team2Score}   ${timeReamining}<br><br>`;

        }

        console.log(scoreboard);

        document.getElementById("game1").innerHTML = scores;

    </script>
  </body>
</html>